<div class="veterinary-management-container">
  <!-- Header -->
  <div class="header-section">
    <h1 class="page-title">
      <mat-icon class="title-icon">local_hospital</mat-icon>
      VetSchedule
    </h1>
    <p class="subtitle">Veterinary Schedule Management</p>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="filter-row">
      <div class="filter-item">
        <label class="filter-label">Filter by Vet:</label>
        <mat-form-field appearance="outline" class="filter-select">
          <mat-select value="all" (selectionChange)="onFilterChange($event)">
            <mat-option value="all">All Veterinarians</mat-option>
            <mat-option *ngFor="let vet of veterinarians" [value]="vet.id">
              {{ vet.fullName }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="filter-item">
        <label class="filter-label">Sort by Date:</label>
        <button mat-button class="sort-button" (click)="toggleSort()">
          <mat-icon>{{ sortAscending ? 'arrow_upward' : 'arrow_downward' }}</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Veterinarians Grid -->
  <div class="veterinarians-grid">
    <div *ngFor="let veterinarian of filteredVeterinarians" class="vet-card">
      <mat-card class="veterinarian-card">
        <mat-card-content>
          <div class="card-header">
            <div class="vet-avatar">
              <div class="avatar-placeholder">
                {{ getInitials(veterinarian.fullName || '') }}
              </div>
            </div>
            <div class="vet-info">
              <h3 class="vet-name">{{ veterinarian.fullName }}</h3>
              <p class="vet-specialty">{{ getSpecialityDisplayName(veterinarian.veterinarianSpeciality) }}</p>
            </div>
          </div>

          <div class="card-body">
            <div class="info-row">
              <mat-icon class="info-icon">email</mat-icon>
              <span class="info-text">{{ veterinarian.email }}</span>
            </div>

            <div class="info-row" *ngIf="veterinarian.phoneNumber">
              <mat-icon class="info-icon">phone</mat-icon>
              <span class="info-text">{{ veterinarian.phoneNumber }}</span>
            </div>

            <div class="info-row" *ngIf="veterinarian.dni">
              <mat-icon class="info-icon">badge</mat-icon>
              <span class="info-text">{{ veterinarian.dni }}</span>
            </div>

            <div class="availability-section">
              <div class="availability-item">
                <mat-icon class="schedule-icon">schedule</mat-icon>
                <div class="schedule-info">
                  <div class="schedule-date">{{ formatDate(veterinarian.availableStartTime || '') }}</div>
                  <div class="schedule-time">{{ formatTime(veterinarian.availableStartTime || '') }} - {{ formatTime(veterinarian.availableEndTime || '') }}</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card-actions">
            <button mat-icon-button
                    class="action-button view-schedules-from-veterinarians"
                    (click)="onViewAvailability(veterinarian)"
                    matTooltip="View Availability">
              <mat-icon>schedule</mat-icon>
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <!-- No data message -->
  <div *ngIf="veterinarians.length === 0" class="no-data-message">
    <mat-icon class="no-data-icon">info</mat-icon>
    <h3>No veterinarians found</h3>
    <p>Click "Add Veterinarian" to get started.</p>
  </div>
</div>
